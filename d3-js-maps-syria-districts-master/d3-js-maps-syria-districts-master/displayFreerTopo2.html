<!DOCTYPE html>
<html>
  <head>
    <title>Display Freer</title>
    <link href="bootstrap.min.css" rel="stylesheet">
  </head>

  <body>


<meta charset="utf-8">
<canvas width="960" height="800"></canvas>
<script src="d3.v4.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script> -->
<script src="topojson.v1.min.js"></script>
<script>

var canvas = d3.select("canvas").node(),
    context = canvas.getContext("2d"),
    path = d3.geoPath().projection(null).context(context);
//    path = d3.geo.path().projection(null);

// <div id="tooltip" class="hidden">
//   <div><strong>Governorate:</strong> <span id="governorate">100</span></div>
//   <div><strong>District:</strong> <span id="district">200</span></div>
// </div>

d3.json("freer1.json", function(error, ca) {
  if (error) throw error;

  context.beginPath();
  path(topojson.feature(ca, ca.objects.rooms));
  context.fillStyle = "#bda";
  context.fill();

  // context.beginPath();
  // path(topojson.mesh(ca, ca.objects.aruba, function(a, b) { return a !== b; }));
  // context.strokeStyle = "#999";
  // context.stroke();
  // var pathz = d3.geo.path(); DOES NOT WORK
  d3.selectAll("polygon")
  .on("mousemove", function(d) {

     //Update the tooltip position and value
     d3.select("#tooltip")
     .style("top", (d3.event.pageY) + 20 + "px")
     .style("left", (d3.event.pageX) + 20 + "px")

     // update room number
     .select('#room')
     .text(d.properties.ID);

     // update district name
     d3.select("#tooltip")
     .select("#roomname")
     .text(d.properties.NAME);

     // Show tooltip
     d3.select("#tooltip").classed("hidden", false);
     })
});

</script>
